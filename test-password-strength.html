<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Password Strength Test</title>
    <style>
        body { font-family: Arial, sans-serif; padding: 20px; }
        .container { max-width: 600px; margin: 0 auto; }
        .language-selector { margin-bottom: 20px; }
        .requirement { display: flex; align-items: center; margin: 5px 0; }
        .requirement.met { color: green; }
        .requirement.not-met { color: gray; }
        .strength-indicator { margin: 10px 0; }
        .progress-bar { width: 100%; height: 8px; background: #f0f0f0; border-radius: 4px; }
        .progress-fill { height: 100%; border-radius: 4px; transition: all 0.3s; }
        input { width: 100%; padding: 10px; margin: 10px 0; border: 1px solid #ccc; border-radius: 4px; }
    </style>
</head>
<body>
    <div class="container">
        <h1>Password Strength Multi-language Test</h1>
        
        <div class="language-selector">
            <label>Language: </label>
            <select id="languageSelect">
                <option value="en">English</option>
                <option value="zh">中文</option>
                <option value="zh-CN">简体中文</option>
                <option value="es">Español</option>
                <option value="fr">Français</option>
            </select>
        </div>

        <div>
            <label>Password:</label>
            <input type="password" id="passwordInput" placeholder="Enter password to test">
        </div>

        <div class="strength-indicator">
            <div>Strength: <span id="strengthText">-</span></div>
            <div class="progress-bar">
                <div class="progress-fill" id="progressFill" style="width: 0%; background: #ccc;"></div>
            </div>
        </div>

        <div id="requirements">
            <h3>Requirements:</h3>
            <div class="requirement" id="req-length">
                <span>⭕</span> <span class="text">At least 8 characters</span>
            </div>
            <div class="requirement" id="req-uppercase">
                <span>⭕</span> <span class="text">Contains uppercase letter</span>
            </div>
            <div class="requirement" id="req-lowercase">
                <span>⭕</span> <span class="text">Contains lowercase letter</span>
            </div>
            <div class="requirement" id="req-number">
                <span>⭕</span> <span class="text">Contains number</span>
            </div>
            <div class="requirement" id="req-special">
                <span>⭕</span> <span class="text">Contains special character</span>
            </div>
        </div>
    </div>

    <script>
        // 翻译数据
        const translations = {
            en: {
                requirements: {
                    minLength: 'At least 8 characters',
                    uppercase: 'Contains uppercase letter',
                    lowercase: 'Contains lowercase letter',
                    number: 'Contains number',
                    special: 'Contains special character',
                },
                strength: {
                    'very-weak': 'Very Weak',
                    'weak': 'Weak',
                    'fair': 'Fair',
                    'good': 'Good',
                    'strong': 'Strong',
                }
            },
            zh: {
                requirements: {
                    minLength: '至少8个字符',
                    uppercase: '包含大写字母',
                    lowercase: '包含小写字母',
                    number: '包含数字',
                    special: '包含特殊字符',
                },
                strength: {
                    'very-weak': '非常弱',
                    'weak': '弱',
                    'fair': '一般',
                    'good': '良好',
                    'strong': '强',
                }
            },
            'zh-CN': {
                requirements: {
                    minLength: '至少8个字符',
                    uppercase: '包含大写字母',
                    lowercase: '包含小写字母',
                    number: '包含数字',
                    special: '包含特殊字符',
                },
                strength: {
                    'very-weak': '非常弱',
                    'weak': '弱',
                    'fair': '一般',
                    'good': '良好',
                    'strong': '强',
                }
            },
            es: {
                requirements: {
                    minLength: 'Al menos 8 caracteres',
                    uppercase: 'Contiene letra mayúscula',
                    lowercase: 'Contiene letra minúscula',
                    number: 'Contiene número',
                    special: 'Contiene carácter especial',
                },
                strength: {
                    'very-weak': 'Muy Débil',
                    'weak': 'Débil',
                    'fair': 'Regular',
                    'good': 'Buena',
                    'strong': 'Fuerte',
                }
            },
            fr: {
                requirements: {
                    minLength: 'Au moins 8 caractères',
                    uppercase: 'Contient une lettre majuscule',
                    lowercase: 'Contient une lettre minuscule',
                    number: 'Contient un chiffre',
                    special: 'Contient un caractère spécial',
                },
                strength: {
                    'very-weak': 'Très Faible',
                    'weak': 'Faible',
                    'fair': 'Correct',
                    'good': 'Bon',
                    'strong': 'Fort',
                }
            }
        };

        // 密码强度检查函数
        function checkPassword(password, locale = 'en') {
            const requirements = [
                { key: 'minLength', regex: /.{8,}/, met: password.length >= 8 },
                { key: 'uppercase', regex: /[A-Z]/, met: /[A-Z]/.test(password) },
                { key: 'lowercase', regex: /[a-z]/, met: /[a-z]/.test(password) },
                { key: 'number', regex: /\d/, met: /\d/.test(password) },
                { key: 'special', regex: /[!@#$%^&*(),.?":{}|<>]/, met: /[!@#$%^&*(),.?":{}|<>]/.test(password) }
            ];

            const metCount = requirements.filter(req => req.met).length;
            const score = Math.min(metCount, 4);
            
            let strength = 'very-weak';
            if (score >= 4) strength = 'strong';
            else if (score >= 3) strength = 'good';
            else if (score >= 2) strength = 'fair';
            else if (score >= 1) strength = 'weak';

            return { requirements, score, strength };
        }

        // 更新显示
        function updateDisplay() {
            const password = document.getElementById('passwordInput').value;
            const locale = document.getElementById('languageSelect').value;
            const trans = translations[locale] || translations.en;
            
            const result = checkPassword(password, locale);
            
            // 更新强度显示
            document.getElementById('strengthText').textContent = trans.strength[result.strength];
            
            // 更新进度条
            const progressFill = document.getElementById('progressFill');
            const percentage = (result.score / 4) * 100;
            progressFill.style.width = percentage + '%';
            
            // 更新颜色
            const colors = {
                'very-weak': '#ef4444',
                'weak': '#f97316',
                'fair': '#eab308',
                'good': '#22c55e',
                'strong': '#16a34a'
            };
            progressFill.style.background = colors[result.strength];
            
            // 更新要求列表
            result.requirements.forEach((req, index) => {
                const element = document.querySelectorAll('.requirement')[index];
                const textElement = element.querySelector('.text');
                const iconElement = element.querySelector('span');
                
                textElement.textContent = trans.requirements[req.key];
                iconElement.textContent = req.met ? '✅' : '⭕';
                element.className = req.met ? 'requirement met' : 'requirement not-met';
            });
        }

        // 事件监听
        document.getElementById('passwordInput').addEventListener('input', updateDisplay);
        document.getElementById('languageSelect').addEventListener('change', updateDisplay);
        
        // 初始化
        updateDisplay();
    </script>
</body>
</html>
