# ğŸŒ Loretrans - ä¸“ä¸šå°è¯­ç§ç¿»è¯‘å¹³å°

> è®©æ¯ç§è¯­è¨€éƒ½èƒ½è¢«ç†è§£ï¼Œè®©æ¯ä¸ªå£°éŸ³éƒ½èƒ½è¢«å¬è§

[![Version](https://img.shields.io/badge/version-2.0.0-blue.svg)](https://github.com/your-repo/loretrans)
[![License](https://img.shields.io/badge/license-MIT-green.svg)](LICENSE)
[![Build Status](https://img.shields.io/badge/build-passing-brightgreen.svg)](https://github.com/your-repo/loretrans/actions)
[![Health Check](https://img.shields.io/badge/health-check-passing-brightgreen.svg)](https://loretrans.app/api/health)

## ğŸ“‹ ç›®å½•

- [é¡¹ç›®æ¦‚è¿°](#é¡¹ç›®æ¦‚è¿°)
- [åŠŸèƒ½ç‰¹æ€§](#åŠŸèƒ½ç‰¹æ€§)
- [æŠ€æœ¯æ¶æ„](#æŠ€æœ¯æ¶æ„)
- [å¿«é€Ÿå¼€å§‹](#å¿«é€Ÿå¼€å§‹)
- [å¼€å‘æŒ‡å—](#å¼€å‘æŒ‡å—)
- [APIæ–‡æ¡£](#apiæ–‡æ¡£)
- [éƒ¨ç½²æŒ‡å—](#éƒ¨ç½²æŒ‡å—)
- [è´¡çŒ®æŒ‡å—](#è´¡çŒ®æŒ‡å—)

## ğŸ¯ é¡¹ç›®æ¦‚è¿°

Loretrans æ˜¯ä¸€ä¸ªä¸“æ³¨äºå°è¯­ç§ç¿»è¯‘çš„AIé©±åŠ¨å¹³å°ï¼ŒåŸºäºMeta NLLBæ¨¡å‹ï¼Œä¸“é—¨è§£å†³Googleç¿»è¯‘ç­‰ä¸»æµå·¥å…·æ— æ³•å¤„ç†çš„è¯­è¨€ç¿»è¯‘éœ€æ±‚ã€‚

### ğŸŒŸ æ ¸å¿ƒä»·å€¼

- **ä¸“ä¸šå°è¯­ç§æ”¯æŒ**: è¦†ç›–æµ·åœ°å…‹é‡Œå¥¥å°”è¯­ã€è€æŒè¯­ã€ç¼…ç”¸è¯­ç­‰20+ç§å°è¯­ç§
- **é«˜å‡†ç¡®ç‡**: åŸºäºMeta NLLBæ¨¡å‹ï¼Œç¿»è¯‘å‡†ç¡®ç‡è¶…è¿‡90%
- **æˆæœ¬ä¼˜åŠ¿**: æ¯”äººå·¥ç¿»è¯‘èŠ‚çœ99%æˆæœ¬ï¼Œæ¯”ä¸»æµAPIä¾¿å®œ80%
- **ç”¨æˆ·å‹å¥½**: 500å­—ç¬¦å†…å®Œå…¨å…è´¹ï¼Œæ³¨å†Œå³é€500ç§¯åˆ†

### ğŸ‘¥ ç›®æ ‡ç”¨æˆ·

- **å­¦æœ¯ç ”ç©¶è€…**: ç¿»è¯‘å°è¯­ç§å­¦æœ¯æ–‡çŒ®å’Œç ”ç©¶èµ„æ–™
- **ç§»æ°‘ç¾¤ä½“**: å¤„ç†å®˜æ–¹æ–‡ä»¶ã€æ³•å¾‹æ–‡æ¡£ç¿»è¯‘
- **è·¨å¢ƒç”µå•†**: äº§å“æè¿°æœ¬åœ°åŒ–ï¼Œè¿›å…¥å°è¯­ç§å¸‚åœº
- **NGOå·¥ä½œè€…**: å¤šè¯­ç§æ²Ÿé€šå’Œæ–‡æ¡£å¤„ç†
- **è¯­è¨€å­¦ä¹ è€…**: å­¦ä¹ ææ–™ç¿»è¯‘å’Œè¯­è¨€ç»ƒä¹ 

## âœ¨ åŠŸèƒ½ç‰¹æ€§

### ğŸ”¥ æ ¸å¿ƒåŠŸèƒ½

#### æ–‡æœ¬ç¿»è¯‘
- âœ… æ”¯æŒ20+ç§å°è¯­ç§åŒå‘ç¿»è¯‘
- âœ… 500å­—ç¬¦å†…å®Œå…¨å…è´¹
- âœ… å®æ—¶å­—ç¬¦è®¡æ•°å’Œç§¯åˆ†é¢„ä¼°
- âœ… æ™ºèƒ½è¯­è¨€æ£€æµ‹
- âœ… ä¸€é”®å¤åˆ¶å’Œè¯­éŸ³æ’­æ”¾
- âœ… ç¿»è¯‘å†å²ä¿å­˜

#### æ–‡æ¡£ç¿»è¯‘
- âœ… æ”¯æŒPDFã€Wordã€PPTæ ¼å¼
- âœ… ä¿æŒåŸæ–‡æ¡£æ ¼å¼
- âœ… æ‰¹é‡æ–‡æ¡£å¤„ç†
- âœ… æ–‡æ¡£å¤§å°é™åˆ¶ï¼šå…è´¹5MBï¼Œä»˜è´¹50MB

#### ç”¨æˆ·ç³»ç»Ÿ
- âœ… é‚®ç®±æ³¨å†Œ/ç™»å½•
- âœ… ç¤¾äº¤ç™»å½•ï¼ˆGoogleã€GitHubï¼‰
- âœ… ç”¨æˆ·æ§åˆ¶å°å’Œç§¯åˆ†ç®¡ç†
- âœ… ç¿»è¯‘å†å²å’Œä½¿ç”¨ç»Ÿè®¡
- âœ… ä¸ªæ€§åŒ–è®¾ç½®å’Œåå¥½

#### ç§¯åˆ†ç³»ç»Ÿ
- âœ… åŸºäºå­—ç¬¦æ•°çš„çµæ´»è®¡è´¹
- âœ… å¤šå±‚çº§å®šä»·å¥—é¤
- âœ… æ–°ç”¨æˆ·å¥–åŠ±å’Œæ¨èå¥–åŠ±
- âœ… ç§¯åˆ†æ°¸ä¸è¿‡æœŸ
- âœ… é€æ˜çš„è´¹ç”¨é¢„ä¼°

#### æ”¯ä»˜ç³»ç»Ÿ
- âœ… Creemæ”¯ä»˜é›†æˆ
- âœ… æ”¯æŒä¿¡ç”¨å¡ã€å€Ÿè®°å¡
- âœ… å®‰å…¨çš„PCI DSSåˆè§„å¤„ç†
- âœ… å³æ—¶å……å€¼åˆ°è´¦
- âœ… å®Œæ•´çš„æ”¯ä»˜è®°å½•

### ğŸ¨ ç”¨æˆ·ä½“éªŒ

#### å“åº”å¼è®¾è®¡
- âœ… å®Œç¾é€‚é…æ¡Œé¢ã€å¹³æ¿ã€æ‰‹æœº
- âœ… ç§»åŠ¨ç«¯ä¸“é—¨ä¼˜åŒ–
- âœ… è§¦æ‘¸å‹å¥½çš„äº¤äº’è®¾è®¡
- âœ… æš—è‰²æ¨¡å¼æ”¯æŒ

#### å¤šè¯­è¨€ç•Œé¢
- âœ… æ”¯æŒä¸­æ–‡ã€è‹±æ–‡ã€æ³•æ–‡ç­‰ç•Œé¢è¯­è¨€
- âœ… åŸºäºç”¨æˆ·åå¥½è‡ªåŠ¨åˆ‡æ¢
- âœ… å®Œæ•´çš„æœ¬åœ°åŒ–æ”¯æŒ

#### ç”¨æˆ·å¼•å¯¼
- âœ… æ–°ç”¨æˆ·æ¬¢è¿æµç¨‹
- âœ… åŠŸèƒ½æ¼”ç¤ºå’Œæ•™ç¨‹
- âœ… ä¸ªæ€§åŒ–è®¾ç½®å‘å¯¼
- âœ… æ™ºèƒ½å¥—é¤æ¨è

### ğŸ”§ æŠ€æœ¯ç‰¹æ€§

#### æ€§èƒ½ä¼˜åŒ–
- âœ… ç¿»è¯‘ç»“æœç¼“å­˜
- âœ… å›¾ç‰‡å’Œèµ„æºä¼˜åŒ–
- âœ… ä»£ç åˆ†å‰²å’Œæ‡’åŠ è½½
- âœ… CDNåŠ é€Ÿ

#### å®‰å…¨ä¿éšœ
- âœ… è¾“å…¥éªŒè¯å’Œæ¸…ç†
- âœ… SQLæ³¨å…¥é˜²æŠ¤
- âœ… XSSå’ŒCSRFé˜²æŠ¤
- âœ… é€Ÿç‡é™åˆ¶å’Œé˜²æ»¥ç”¨

#### ç›‘æ§å‘Šè­¦
- âœ… å¥åº·æ£€æŸ¥API
- âœ… æœåŠ¡çŠ¶æ€ç›‘æ§
- âœ… é”™è¯¯æ—¥å¿—æ”¶é›†
- âœ… æ€§èƒ½æŒ‡æ ‡è¿½è¸ª

## ğŸ—ï¸ æŠ€æœ¯æ¶æ„

### å‰ç«¯æŠ€æœ¯æ ˆ
```
Next.js 14+          # Reactæ¡†æ¶
TypeScript           # ç±»å‹å®‰å…¨
Tailwind CSS         # æ ·å¼æ¡†æ¶
Radix UI             # ç»„ä»¶åº“
React Hook Form      # è¡¨å•å¤„ç†
Zustand              # çŠ¶æ€ç®¡ç†
React Query          # æ•°æ®è·å–
```

### åç«¯æŠ€æœ¯æ ˆ
```
Next.js API Routes   # APIæœåŠ¡
Supabase             # æ•°æ®åº“å’Œè®¤è¯
Meta NLLB            # ç¿»è¯‘å¼•æ“
Creem                # æ”¯ä»˜å¤„ç†
Vercel KV            # ç¼“å­˜æœåŠ¡
Resend               # é‚®ä»¶æœåŠ¡
```

### åŸºç¡€è®¾æ–½
```
Vercel               # éƒ¨ç½²å’Œæ‰˜ç®¡
Supabase             # æ•°æ®åº“æœåŠ¡
Docker               # å®¹å™¨åŒ–
GitHub Actions       # CI/CD
Cloudflare           # CDNå’Œå®‰å…¨
```

### æ¶æ„å›¾

```mermaid
graph TB
    A[ç”¨æˆ·] --> B[Vercel CDN]
    B --> C[Next.js Frontend]
    C --> D[API Routes]
    D --> E[Supabase Database]
    D --> F[NLLB Service]
    D --> G[File Processor]
    D --> H[Creem Payment]
    D --> I[Vercel KV Cache]
    
    subgraph "å¾®æœåŠ¡"
        F[NLLBç¿»è¯‘æœåŠ¡]
        G[æ–‡ä»¶å¤„ç†æœåŠ¡]
    end
    
    subgraph "å¤–éƒ¨æœåŠ¡"
        E[Supabase]
        H[Creem]
        I[Vercel KV]
    end
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- Node.js 18+
- Python 3.8+
- Docker (å¯é€‰)
- Git

### 1. å…‹éš†é¡¹ç›®

```bash
git clone https://github.com/your-repo/loretrans.git
cd loretrans
```

### 2. ç¯å¢ƒé…ç½®

```bash
# å¤åˆ¶ç¯å¢ƒå˜é‡æ¨¡æ¿
cp frontend/.env.example frontend/.env.local

# ç¼–è¾‘ç¯å¢ƒå˜é‡
nano frontend/.env.local
```

å¿…éœ€çš„ç¯å¢ƒå˜é‡ï¼š
```env
# Supabase
NEXT_PUBLIC_SUPABASE_URL=your_supabase_url
NEXT_PUBLIC_SUPABASE_ANON_KEY=your_supabase_anon_key
SUPABASE_SERVICE_ROLE_KEY=your_service_role_key

# Creemæ”¯ä»˜
CREEM_API_KEY=your_creem_api_key

# NLLBæœåŠ¡
NLLB_SERVICE_URL=http://localhost:8081

# æ–‡ä»¶å¤„ç†æœåŠ¡
FILE_PROCESSOR_URL=http://localhost:8082
```

### 3. ä¸€é”®å¯åŠ¨

```bash
# ä½¿ç”¨å¢å¼ºç‰ˆå¯åŠ¨è„šæœ¬
./start-dev-enhanced.sh
```

æˆ–è€…æ‰‹åŠ¨å¯åŠ¨ï¼š

```bash
# å®‰è£…ä¾èµ–
cd frontend && npm install && cd ..

# å¯åŠ¨NLLBæœåŠ¡
cd microservices/nllb-local
python app.py &

# å¯åŠ¨æ–‡ä»¶å¤„ç†æœåŠ¡
cd ../file-processor
python app.py &

# å¯åŠ¨å‰ç«¯
cd ../../frontend
npm run dev
```

### 4. è®¿é—®åº”ç”¨

- ğŸŒ å‰ç«¯: http://localhost:3000
- ğŸ¤– NLLBæœåŠ¡: http://localhost:8081
- ğŸ“„ æ–‡ä»¶å¤„ç†: http://localhost:8082
- ğŸ” å¥åº·æ£€æŸ¥: http://localhost:3000/api/health

## ğŸ’» å¼€å‘æŒ‡å—

### é¡¹ç›®ç»“æ„

```
loretrans/
â”œâ”€â”€ frontend/                 # Next.jså‰ç«¯åº”ç”¨
â”‚   â”œâ”€â”€ app/                 # App Routeré¡µé¢
â”‚   â”œâ”€â”€ components/          # Reactç»„ä»¶
â”‚   â”œâ”€â”€ lib/                 # å·¥å…·åº“å’Œé…ç½®
â”‚   â””â”€â”€ public/              # é™æ€èµ„æº
â”œâ”€â”€ microservices/           # å¾®æœåŠ¡
â”‚   â”œâ”€â”€ nllb-local/         # NLLBç¿»è¯‘æœåŠ¡
â”‚   â””â”€â”€ file-processor/     # æ–‡ä»¶å¤„ç†æœåŠ¡
â”œâ”€â”€ supabase/               # æ•°æ®åº“è¿ç§»
â”‚   â””â”€â”€ migrations/         # SQLè¿ç§»æ–‡ä»¶
â”œâ”€â”€ docs/                   # é¡¹ç›®æ–‡æ¡£
â”œâ”€â”€ scripts/                # æ„å»ºå’Œéƒ¨ç½²è„šæœ¬
â””â”€â”€ docker-compose.yml      # Dockeré…ç½®
```

### å¼€å‘å·¥ä½œæµ

#### 1. åŠŸèƒ½å¼€å‘

```bash
# åˆ›å»ºåŠŸèƒ½åˆ†æ”¯
git checkout -b feature/new-feature

# å¼€å‘å’Œæµ‹è¯•
npm run dev
npm run test

# æäº¤ä»£ç 
git add .
git commit -m "feat: add new feature"
git push origin feature/new-feature
```

#### 2. ä»£ç è§„èŒƒ

```bash
# ä»£ç æ£€æŸ¥
npm run lint

# ç±»å‹æ£€æŸ¥
npm run type-check

# æ ¼å¼åŒ–ä»£ç 
npm run format

# è¿è¡Œæµ‹è¯•
npm run test
```

#### 3. æ•°æ®åº“è¿ç§»

```bash
# åˆ›å»ºæ–°è¿ç§»
supabase migration new migration_name

# åº”ç”¨è¿ç§»
supabase db push

# é‡ç½®æ•°æ®åº“
supabase db reset
```

### ç»„ä»¶å¼€å‘æŒ‡å—

#### åˆ›å»ºæ–°ç»„ä»¶

```typescript
// components/example/example-component.tsx
'use client'

import { useState } from 'react'
import { Button } from '@/components/ui/button'

interface ExampleComponentProps {
  title: string
  onAction?: () => void
}

export function ExampleComponent({ title, onAction }: ExampleComponentProps) {
  const [loading, setLoading] = useState(false)

  const handleClick = async () => {
    setLoading(true)
    try {
      await onAction?.()
    } finally {
      setLoading(false)
    }
  }

  return (
    <div className="p-4 border rounded-lg">
      <h3 className="text-lg font-semibold mb-2">{title}</h3>
      <Button onClick={handleClick} disabled={loading}>
        {loading ? 'å¤„ç†ä¸­...' : 'æ‰§è¡Œæ“ä½œ'}
      </Button>
    </div>
  )
}
```

#### APIè·¯ç”±å¼€å‘

```typescript
// app/api/example/route.ts
import { NextRequest, NextResponse } from 'next/server'
import { createClient } from '@supabase/supabase-js'

export async function POST(request: NextRequest) {
  try {
    const { data } = await request.json()
    
    // éªŒè¯è¾“å…¥
    if (!data) {
      return NextResponse.json(
        { error: 'ç¼ºå°‘å¿…éœ€å‚æ•°' },
        { status: 400 }
      )
    }
    
    // å¤„ç†ä¸šåŠ¡é€»è¾‘
    const result = await processData(data)
    
    return NextResponse.json({ result })
  } catch (error) {
    console.error('APIé”™è¯¯:', error)
    return NextResponse.json(
      { error: 'æœåŠ¡å™¨å†…éƒ¨é”™è¯¯' },
      { status: 500 }
    )
  }
}
```

### æµ‹è¯•æŒ‡å—

#### å•å…ƒæµ‹è¯•

```typescript
// __tests__/components/example-component.test.tsx
import { render, screen, fireEvent } from '@testing-library/react'
import { ExampleComponent } from '@/components/example/example-component'

describe('ExampleComponent', () => {
  it('renders correctly', () => {
    render(<ExampleComponent title="æµ‹è¯•æ ‡é¢˜" />)
    expect(screen.getByText('æµ‹è¯•æ ‡é¢˜')).toBeInTheDocument()
  })

  it('handles click events', async () => {
    const mockAction = jest.fn()
    render(<ExampleComponent title="æµ‹è¯•" onAction={mockAction} />)
    
    fireEvent.click(screen.getByText('æ‰§è¡Œæ“ä½œ'))
    expect(mockAction).toHaveBeenCalled()
  })
})
```

#### é›†æˆæµ‹è¯•

```typescript
// __tests__/api/example.test.ts
import { createMocks } from 'node-mocks-http'
import handler from '@/app/api/example/route'

describe('/api/example', () => {
  it('handles POST requests', async () => {
    const { req, res } = createMocks({
      method: 'POST',
      body: { data: 'test' }
    })

    await handler(req, res)
    expect(res._getStatusCode()).toBe(200)
  })
})
```

## ğŸ“š APIæ–‡æ¡£

### è®¤è¯

æ‰€æœ‰éœ€è¦è®¤è¯çš„APIéƒ½ä½¿ç”¨Bearer Tokenï¼š

```bash
Authorization: Bearer <supabase_jwt_token>
```

### ç¿»è¯‘API

#### POST /api/translate

ç¿»è¯‘æ–‡æœ¬å†…å®¹

**è¯·æ±‚ä½“:**
```json
{
  "text": "Hello, how are you?",
  "source_language": "en",
  "target_language": "ht"
}
```

**å“åº”:**
```json
{
  "translated_text": "Bonjou, kijan ou ye?",
  "character_count": 18,
  "credits_used": 0,
  "translation_time": 1200
}
```

### ç”¨æˆ·API

#### GET /api/user/credits

è·å–ç”¨æˆ·ç§¯åˆ†ä½™é¢

**å“åº”:**
```json
{
  "credits": 1500,
  "tier": "basic",
  "usage_stats": {
    "total_translations": 45,
    "total_characters": 12500
  }
}
```

#### POST /api/user/credits/purchase

è´­ä¹°ç§¯åˆ†

**è¯·æ±‚ä½“:**
```json
{
  "plan_id": "basic",
  "payment_method": "card"
}
```

### å¥åº·æ£€æŸ¥API

#### GET /api/health

ç³»ç»Ÿå¥åº·çŠ¶æ€æ£€æŸ¥

**å“åº”:**
```json
{
  "status": "healthy",
  "timestamp": "2025-01-03T10:00:00Z",
  "services": {
    "database": {
      "status": "available",
      "responseTime": 45
    },
    "nllb": {
      "status": "available",
      "responseTime": 120
    }
  },
  "uptime": 86400,
  "memory": {
    "used": 256,
    "total": 512,
    "percentage": 50
  }
}
```

## ğŸš€ éƒ¨ç½²æŒ‡å—

### Verceléƒ¨ç½²ï¼ˆæ¨èï¼‰

#### 1. å‡†å¤‡å·¥ä½œ

```bash
# å®‰è£…Vercel CLI
npm i -g vercel

# ç™»å½•Vercel
vercel login
```

#### 2. ç¯å¢ƒå˜é‡é…ç½®

åœ¨Vercel Dashboardä¸­è®¾ç½®ç¯å¢ƒå˜é‡ï¼š

```env
NEXT_PUBLIC_SUPABASE_URL=your_supabase_url
NEXT_PUBLIC_SUPABASE_ANON_KEY=your_supabase_anon_key
SUPABASE_SERVICE_ROLE_KEY=your_service_role_key
CREEM_API_KEY=your_creem_api_key
NLLB_SERVICE_URL=your_nllb_service_url
```

#### 3. éƒ¨ç½²

```bash
# éƒ¨ç½²åˆ°ç”Ÿäº§ç¯å¢ƒ
vercel --prod

# æˆ–è€…é€šè¿‡Gitè‡ªåŠ¨éƒ¨ç½²
git push origin main
```

### Dockeréƒ¨ç½²

#### 1. æ„å»ºé•œåƒ

```bash
# æ„å»ºæ‰€æœ‰æœåŠ¡
docker-compose build

# å¯åŠ¨æœåŠ¡
docker-compose up -d
```

#### 2. ç”Ÿäº§ç¯å¢ƒé…ç½®

```bash
# ä½¿ç”¨ç”Ÿäº§é…ç½®
docker-compose -f docker-compose.yml -f docker-compose.prod.yml up -d
```

### è‡ªå®šä¹‰æœåŠ¡å™¨éƒ¨ç½²

#### 1. æœåŠ¡å™¨å‡†å¤‡

```bash
# å®‰è£…ä¾èµ–
sudo apt update
sudo apt install nodejs npm python3 python3-pip nginx

# å®‰è£…PM2
npm install -g pm2
```

#### 2. åº”ç”¨éƒ¨ç½²

```bash
# å…‹éš†ä»£ç 
git clone https://github.com/your-repo/loretrans.git
cd loretrans

# å®‰è£…ä¾èµ–
cd frontend && npm ci && npm run build
cd ../microservices/nllb-local && pip install -r requirements.txt
cd ../file-processor && pip install -r requirements.txt

# å¯åŠ¨æœåŠ¡
pm2 start ecosystem.config.js
```

#### 3. Nginxé…ç½®

```nginx
server {
    listen 80;
    server_name your-domain.com;

    location / {
        proxy_pass http://localhost:3000;
        proxy_http_version 1.1;
        proxy_set_header Upgrade $http_upgrade;
        proxy_set_header Connection 'upgrade';
        proxy_set_header Host $host;
        proxy_cache_bypass $http_upgrade;
    }

    location /api/translate {
        proxy_pass http://localhost:8081;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
    }
}
```

## ğŸ”§ è¿ç»´æŒ‡å—

### ç›‘æ§å’Œæ—¥å¿—

#### å¥åº·æ£€æŸ¥

```bash
# æ£€æŸ¥æœåŠ¡çŠ¶æ€
curl https://your-domain.com/api/health

# æ£€æŸ¥ç‰¹å®šæœåŠ¡
curl http://localhost:8081/health
curl http://localhost:8082/health
```

#### æ—¥å¿—æŸ¥çœ‹

```bash
# æŸ¥çœ‹åº”ç”¨æ—¥å¿—
tail -f logs/frontend.log
tail -f logs/nllb.log
tail -f logs/file-processor.log

# Dockeræ—¥å¿—
docker-compose logs -f frontend
docker-compose logs -f nllb-service
```

### æ€§èƒ½ä¼˜åŒ–

#### ç¼“å­˜ç­–ç•¥

```typescript
// ç¿»è¯‘ç»“æœç¼“å­˜
const cacheKey = `translation:${sourceText}:${sourceLang}:${targetLang}`
const cachedResult = await redis.get(cacheKey)

if (cachedResult) {
  return JSON.parse(cachedResult)
}

// æ‰§è¡Œç¿»è¯‘å¹¶ç¼“å­˜ç»“æœ
const result = await translateText(sourceText, sourceLang, targetLang)
await redis.setex(cacheKey, 3600, JSON.stringify(result))
```

#### æ•°æ®åº“ä¼˜åŒ–

```sql
-- æ·»åŠ ç´¢å¼•
CREATE INDEX idx_translations_user_created ON translations(user_id, created_at);
CREATE INDEX idx_credit_transactions_user_type ON credit_transactions(user_id, type);

-- æ¸…ç†è¿‡æœŸæ•°æ®
DELETE FROM guest_sessions WHERE expires_at < NOW() - INTERVAL '7 days';
```

### å¤‡ä»½å’Œæ¢å¤

#### æ•°æ®åº“å¤‡ä»½

```bash
# Supabaseå¤‡ä»½
supabase db dump > backup_$(date +%Y%m%d).sql

# æ¢å¤å¤‡ä»½
supabase db reset
psql -h your-db-host -U postgres -d postgres < backup_20250103.sql
```

#### æ–‡ä»¶å¤‡ä»½

```bash
# å¤‡ä»½ä¸Šä¼ æ–‡ä»¶
tar -czf uploads_backup_$(date +%Y%m%d).tar.gz uploads/

# å¤‡ä»½é…ç½®æ–‡ä»¶
tar -czf config_backup_$(date +%Y%m%d).tar.gz .env* *.config.js
```

## ğŸ¤ è´¡çŒ®æŒ‡å—

### è´¡çŒ®æµç¨‹

1. **Forké¡¹ç›®** - ç‚¹å‡»GitHubä¸Šçš„ForkæŒ‰é’®
2. **åˆ›å»ºåˆ†æ”¯** - `git checkout -b feature/amazing-feature`
3. **æäº¤æ›´æ”¹** - `git commit -m 'Add amazing feature'`
4. **æ¨é€åˆ†æ”¯** - `git push origin feature/amazing-feature`
5. **åˆ›å»ºPR** - åœ¨GitHubä¸Šåˆ›å»ºPull Request

### ä»£ç è§„èŒƒ

#### æäº¤ä¿¡æ¯æ ¼å¼

```
type(scope): description

feat(auth): add social login support
fix(translate): resolve character encoding issue
docs(readme): update installation guide
style(ui): improve button hover effects
refactor(api): optimize translation service
test(unit): add user authentication tests
chore(deps): update dependencies
```

#### ä»£ç é£æ ¼

- ä½¿ç”¨TypeScriptè¿›è¡Œç±»å‹å®‰å…¨
- éµå¾ªESLintå’ŒPrettieré…ç½®
- ç»„ä»¶ä½¿ç”¨PascalCaseå‘½å
- å‡½æ•°ä½¿ç”¨camelCaseå‘½å
- å¸¸é‡ä½¿ç”¨UPPER_SNAKE_CASEå‘½å

### é—®é¢˜æŠ¥å‘Š

ä½¿ç”¨GitHub IssuesæŠ¥å‘Šé—®é¢˜ï¼Œè¯·åŒ…å«ï¼š

- é—®é¢˜æè¿°å’Œé‡ç°æ­¥éª¤
- æœŸæœ›è¡Œä¸ºå’Œå®é™…è¡Œä¸º
- ç¯å¢ƒä¿¡æ¯ï¼ˆæµè§ˆå™¨ã€æ“ä½œç³»ç»Ÿç­‰ï¼‰
- ç›¸å…³æˆªå›¾æˆ–é”™è¯¯æ—¥å¿—

### åŠŸèƒ½è¯·æ±‚

æäº¤åŠŸèƒ½è¯·æ±‚æ—¶è¯·è¯´æ˜ï¼š

- åŠŸèƒ½çš„ä½¿ç”¨åœºæ™¯å’Œä»·å€¼
- è¯¦ç»†çš„åŠŸèƒ½æè¿°
- å¯èƒ½çš„å®ç°æ–¹æ¡ˆ
- æ˜¯å¦æ„¿æ„å‚ä¸å¼€å‘

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ - æŸ¥çœ‹ [LICENSE](LICENSE) æ–‡ä»¶äº†è§£è¯¦æƒ…ã€‚

## ğŸ™ è‡´è°¢

- [Meta NLLB](https://github.com/facebookresearch/fairseq/tree/nllb) - æä¾›å¼ºå¤§çš„å¤šè¯­è¨€ç¿»è¯‘æ¨¡å‹
- [Supabase](https://supabase.com/) - æä¾›æ•°æ®åº“å’Œè®¤è¯æœåŠ¡
- [Vercel](https://vercel.com/) - æä¾›éƒ¨ç½²å’Œæ‰˜ç®¡æœåŠ¡
- [Next.js](https://nextjs.org/) - æä¾›ä¼˜ç§€çš„Reactæ¡†æ¶
- [Tailwind CSS](https://tailwindcss.com/) - æä¾›å®ç”¨çš„CSSæ¡†æ¶

## ğŸ“ è”ç³»æˆ‘ä»¬

- ğŸ“§ é‚®ç®±: support@loretrans.app
- ğŸŒ ç½‘ç«™: https://loretrans.app
- ğŸ“± Twitter: [@LoretransApp](https://twitter.com/LoretransApp)
- ğŸ’¬ Discord: [Loretrans Community](https://discord.gg/loretrans)

---

<div align="center">
  <p>Made with â¤ï¸ by the Loretrans Team</p>
  <p>è®©æ¯ç§è¯­è¨€éƒ½èƒ½è¢«ç†è§£ ğŸŒ</p>
</div>
